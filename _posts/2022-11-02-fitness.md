---
title: Fetch of Backend Fitness
layout: default
description: Introduction to Fitness App   
permalink: /api
tags: [javascript]
---

<!-- HTML table fragment for page -->
<table>
        <thead>
          <tr>
              <th>"ID No."</th>
              <th>"Exercise Name"</th>
              <th>"Time Period or Reps"</th>
          </tr>
        </thead>
        <tbody id="refid"></tbody>
        </table>
        <script>
        {    
                   const resultContainer1  = document.getElementById("refid");
                    const url = "https://fitness.nighthawkcoders.tk/api/v1/fitnessApp";
                    //const url = "http://localhost:8080/api/v1/fitnessApp";
                    // prepare fetch GET options
                  const options = {
                  method: 'GET', // *GET, POST, PUT, DELETE, etc.
                  mode: 'cors', // no-cors, *cors, same-origin
                  cache: 'default', // *default, no-cache, reload, force-cache, only-if-cached
                  credentials: 'same-origin', // include, same-origin, omit
                  headers: {
                    'Content-Type': 'application/json'
                    // 'Content-Type': 'application/x-www-form-urlencoded',
                  },
                };
                // prepare fetch PUT options, clones with JS Spread Operator (...)
                const put_options = {...options, method: 'PUT'}; // clones and replaces method
                // fetch the API
                fetch(url, options)
                  // response is a RESTful "promise" on any successful fetch
                  .then(response => {
                    // check for response errors
                    if (response.status !== 200) {
                        error('GET API response failure: ' + response.status);
                        return;
                    }
                    response.json().then(data => {
                    console.log(data);
                    for (const rs of data)
                    {
                        const tr1 = document.createElement("tr");
                        const n11 = document.createElement("td");
                        const n21 = document.createElement("td");    
                        const n31 = document.createElement("td");
                        n11.innerHTML = rs.id;
                        n21.innerHTML = rs.exerciseName;
                        n31.innerHTML = rs.timePeriod;
                        tr1.appendChild(n11);
                        tr1.appendChild(n21);
                        tr1.appendChild(n31);
                        // add HTML to container
                        resultContainer1.appendChild(tr1);
                       // alert(rs.exerciseName);
                    }
      })
  })
  // catch fetch errors (ie Nginx ACCESS to server blocked)
  .catch(err => {
    error(err + " " + url);
  });
  }
  </script>
<br>
<br>
<table>
        <thead>
          <tr>
              <th>"ID No."</th>
              <th>"User Name"</th>
              <th>"Height"</th>
              <th>"Weight"</th>
              <th>"Free Time"</th>
          </tr>
        </thead>
        <tbody id="ref_id">
    <script>
      {
                    const url1 = "https://fitness.nighthawkcoders.tk/api/v1/users";
                    //const url = "http://localhost:8080/api/v1/users";
                    const resultContainer  = document.getElementById("ref_id");
                    fetch(url1)
                    .then(res1 => res1.json())
                    .then((data1) => {
                    alert("Fetching data..........");
                    for (const rs of data1)
                    {
                        const tr = document.createElement("tr");
                        const n1 = document.createElement("td");
                        const n2 = document.createElement("td");    
                        const n3 = document.createElement("td");
                        const n4 = document.createElement("td");    
                        const n5 = document.createElement("td");
                        n1.innerHTML = rs.id;
                        n2.innerHTML = rs.name;
                        n3.innerHTML = rs.height1+"'"+rs.height2+"\"";
                        n4.innerHTML = rs.weight;
                        n5.innerHTML = rs.freetime;
                        tr.appendChild(n1);
                        tr.appendChild(n2);
                        tr.appendChild(n3);
                        tr.appendChild(n4);
                        tr.appendChild(n5);
                        // add HTML to container
                        resultContainer.appendChild(tr);
                       // alert(rs.name);
                    }
                    })
                    .catch(err => { throw err });
                }
    </script>
</tbody>
</table>
